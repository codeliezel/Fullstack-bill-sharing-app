{"version":3,"sources":["../../src/tests/transactions.js"],"names":["expect","chai","use","chaiHttp","login","email","password","sinonChai","request","describe","before","app","keepOpen","afterEach","sinon","restore","after","close","it","done","post","set","send","end","logError","logResponse","token","body","get","err","res","status","to","be","equal"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAQA,MAAR,GAAmBC,gBAAnB,CAAQD,MAAR;;AACAC,iBAAKC,GAAL,CAASC,oBAAT;;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,KAAK,EAAE,mBADK;AAEZC,EAAAA,QAAQ,EAAE;AAFE,CAAd;;AAIAL,iBAAKC,GAAL,CAASK,qBAAT;;AAEA,IAAIC,OAAJ;AACAC,QAAQ,CAAC,uBAAD,EAA0B,YAAM;AACtCC,EAAAA,MAAM,6FAAC;AAAA;AAAA;AAAA;AAAA;AACLF,YAAAA,OAAO,GAAGP,iBAAKO,OAAL,CAAaG,eAAb,EAAkBC,QAAlB,EAAV;;AADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,GAAN;AAGAC,EAAAA,SAAS,CAAC;AAAA,WAAMC,kBAAMC,OAAN,EAAN;AAAA,GAAD,CAAT;AACAC,EAAAA,KAAK,CAAC;AAAA,WAAMR,OAAO,CAACS,KAAR,EAAN;AAAA,GAAD,CAAL;AACAR,EAAAA,QAAQ,CAAC,aAAD,EAAgB,YAAM;AAC5BS,IAAAA,EAAE,CAAC,4DAAD,EAA+D,UAACC,IAAD,EAAU;AACzElB,uBAAKO,OAAL,CAAaG,eAAb,EACGS,IADH,CACQ,qBADR,EAEGC,GAFH,CAEO,QAFP,EAEiB,kBAFjB,EAGGC,IAHH,CAGQlB,KAHR,EAIGmB,GAJH,CAIO,UAACC,QAAD,EAAWC,WAAX,EAA2B;AAC9B,YAAMC,KAAK,oBAAaD,WAAW,CAACE,IAAZ,CAAiBD,KAA9B,CAAX;;AACAzB,yBAAKO,OAAL,CAAaG,eAAb,EACGiB,GADH,CACO,iBADP,EAEGP,GAFH,CAEO,eAFP,EAEwBK,KAFxB,EAGGH,GAHH,CAGO,UAACM,GAAD,EAAMC,GAAN,EAAc;AACjB9B,UAAAA,MAAM,CAAC8B,GAAG,CAACC,MAAL,CAAN,CAAmBC,EAAnB,CAAsBC,EAAtB,CAAyBC,KAAzB,CAA+B,GAA/B;AACAf,UAAAA,IAAI;AACL,SANH;AAOD,OAbH;AAcD,KAfC,CAAF;AAgBD,GAjBO,CAAR;AAkBD,CAxBO,CAAR","sourcesContent":["import chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport sinon from 'sinon';\nimport sinonChai from 'sinon-chai';\nimport app from '../app';\n\nconst { expect } = chai;\nchai.use(chaiHttp);\n\nconst login = {\n  email: 'francis@gmail.com',\n  password: '12345',\n};\nchai.use(sinonChai);\n\nlet request;\ndescribe('Test for transactions', () => {\n  before(async () => {\n    request = chai.request(app).keepOpen();\n  });\n  afterEach(() => sinon.restore());\n  after(() => request.close());\n  describe('Groups test', () => {\n    it('it should return 200 when a user gets the transaction logs', (done) => {\n      chai.request(app)\n        .post('/api/v1/auth/signin')\n        .set('Accept', 'application/json')\n        .send(login)\n        .end((logError, logResponse) => {\n          const token = `Bearer ${logResponse.body.token}`;\n          chai.request(app)\n            .get('/api/v1/history')\n            .set('Authorization', token)\n            .end((err, res) => {\n              expect(res.status).to.be.equal(200);\n              done();\n            });\n        });\n    });\n  });\n});\n"],"file":"transactions.js"}